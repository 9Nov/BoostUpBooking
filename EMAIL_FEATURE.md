# üìß Email Confirmation Feature

## Overview
‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á email ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

## Features

### ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤

1. **‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á Email ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**
   - ‡∏™‡πà‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
   - ‡πÉ‡∏ä‡πâ `MailApp` ‡∏Ç‡∏≠‡∏á Google Apps Script
   - ‡∏´‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á email ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á (booking ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)

2. **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ Email ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°**
   - ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö HTML ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏° gradient header
   - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á HTML ‡πÅ‡∏•‡∏∞ Plain Text
   - ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô:
     - üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á
     - üïê ‡πÄ‡∏ß‡∏•‡∏≤
     - üìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà (Bangkok/Rayong)
     - üîñ Booking ID (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á)

3. **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**
   - ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á
   - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á
   - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### Backend Flow (Google Apps Script)

```javascript
createBooking() 
  ‚Üì
‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á Google Sheet
  ‚Üì
‡πÄ‡∏£‡∏µ‡∏¢‡∏Å sendConfirmationEmail()
  ‚Üì
‡∏™‡πà‡∏á email ‡∏ú‡πà‡∏≤‡∏ô MailApp
  ‚Üì
Return success response
```

### Email Template

Email ‡∏à‡∏∞‡∏°‡∏µ 2 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:

1. **HTML Version** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö email clients ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö HTML
   - ‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏° styling
   - ‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡πÅ‡∏•‡∏∞ layout ‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
   - ‡∏°‡∏µ emoji ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö

2. **Plain Text Version** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö email clients ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö HTML
   - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
   - ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô

## ‡∏Å‡∏≤‡∏£ Deploy

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó Backend

1. ‡πÄ‡∏õ‡∏¥‡∏î Google Sheet ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Extensions > Apps Script**
3. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `backend_code.gs` ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
4. ‡∏ß‡∏≤‡∏á‡πÅ‡∏ó‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô Apps Script Editor
5. ‡∏Å‡∏î **Save** (üíæ)
6. ‡∏Å‡∏î **Deploy > Manage deployments**
7. ‡∏Ñ‡∏•‡∏¥‡∏Å ‚úèÔ∏è (Edit) ‡∏ó‡∏µ‡πà deployment ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
8. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **New version** ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô Version
9. ‡∏Å‡∏î **Deploy**

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á slot ‡∏ú‡πà‡∏≤‡∏ô frontend
2. ‡∏Å‡∏£‡∏≠‡∏Å email ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö inbox ‡∏Ç‡∏≠‡∏á email ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å
4. ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö email ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)

1. ‡πÉ‡∏ô Apps Script Editor ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Executions**
2. ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ execution ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error messages (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
4. ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π **Logs** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡πà‡∏≤ email ‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Email

### Subject Line
```
‚úÖ Booking Confirmation - Bangkok on 2026-01-26
```

### Email Content (HTML)
```
üéâ Booking Confirmed!
Your reservation has been successfully made

Dear John Doe,

Thank you for your booking! We're pleased to confirm your reservation 
with the following details:

üìÖ Date: 2026-01-26
üïê Time: 09:00-10:00
üìç Location: Bangkok
üîñ Booking ID: abc123-def456-ghi789

Important Notes:
‚Ä¢ Please arrive 5-10 minutes before your scheduled time
‚Ä¢ Keep this booking ID for your records
‚Ä¢ If you need to cancel or reschedule, please contact us in advance

We look forward to seeing you!
```

## Error Handling

- ‡∏´‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á email ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:
  - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ log error ‡πÉ‡∏ô Apps Script
  - ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
  - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "Booking confirmed!" ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
  - Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏õ‡∏±‡∏ç‡∏´‡∏≤

## Permissions

Google Apps Script ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå:
- ‚úÖ Access to Google Sheets (‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)
- ‚úÖ Send email as you (`MailApp`)

‡πÄ‡∏°‡∏∑‡πà‡∏≠ deploy ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á authorize permissions ‡πÉ‡∏´‡∏°‡πà

## Customization

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á email template:

1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `sendConfirmationEmail()` ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå `backend_code.gs`
2. ‡∏õ‡∏£‡∏±‡∏ö `subject`, `htmlBody`, ‡∏´‡∏£‡∏∑‡∏≠ `plainBody`
3. Deploy version ‡πÉ‡∏´‡∏°‡πà

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Subject
```javascript
const subject = `üéä ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á - ${location} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${date}`;
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
```javascript
<li>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ô‡∏≥ Booking ID ‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏≤‡∏ñ‡∏∂‡∏á</li>
<li>‡∏´‡∏≤‡∏Å‡∏°‡∏≤‡∏™‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</li>
```

## Limitations

- MailApp ‡∏°‡∏µ quota limit:
  - Free Google Account: 100 emails/day
  - Google Workspace: 1,500 emails/day
- Email ‡∏≠‡∏≤‡∏à‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Spam folder (‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö email provider)

## Troubleshooting

### Email ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ email ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. ‡∏î‡∏π Apps Script Logs
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö quota limit

### Email ‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Spam
1. ‡∏ö‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Spam folder
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° sender email ‡πÄ‡∏õ‡πá‡∏ô contact
3. Mark email as "Not Spam"

### Email ‡∏™‡πà‡∏á‡∏ä‡πâ‡∏≤
- MailApp ‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 1-5 ‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏ñ‡πâ‡∏≤‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Google Apps Script status

## Next Steps (Optional Enhancements)

1. **Admin Notification**: ‡∏™‡πà‡∏á email ‡πÅ‡∏à‡πâ‡∏á admin ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
2. **Reminder Email**: ‡∏™‡πà‡∏á email ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢ 1 ‡∏ß‡∏±‡∏ô
3. **Cancellation Email**: ‡∏™‡πà‡∏á email ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
4. **Custom Templates**: ‡πÉ‡∏´‡πâ admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á email template ‡πÑ‡∏î‡πâ
5. **Attachment**: ‡πÅ‡∏ô‡∏ö iCalendar (.ics) file ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á calendar

